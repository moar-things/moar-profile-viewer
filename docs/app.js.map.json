{
    "version": 3,
    "sources": [
        "node_modules/browser-pack/_prelude.js",
        "lib/profile/convert-12-to-moar.js",
        "lib/profile/convert-v8-to-12.js",
        "lib/profile/create.js",
        "lib/profile/google-analytics.js",
        "lib/profile/index.js",
        "lib/web/drop-handler.js",
        "lib/web/file-reader.js",
        "lib/web/fn-informer.js",
        "lib/web/main.js",
        "lib/web/modal-displayer.js",
        "lib/web/pane-zoomer.js",
        "lib/web/profile-reader.js",
        "lib/web/source-formatter.js",
        "lib/web/ui.js",
        "lib/web/utils.js",
        "node_modules/events/events.js",
        "node_modules/path-browserify/index.js",
        "node_modules/process/browser.js",
        "package.json"
    ],
    "names": [],
    "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
    "file": "docs/app.js",
    "sourcesContent": [
        "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
        "'use strict'\n\n// convert a profile from inspector 1.2 format to moar format\n\nmodule.exports = convert\n\nconst path = require('path')\n\nconst SystemPackage = '(system)'\nconst UnknownPackage = '(unknown)'\n\nfunction convert (profileData) {\n  const result = {\n    meta: {},\n    nodes: profileData.nodes,\n    startTime: profileData.startTime,\n    endTime: profileData.endTime,\n    scripts: [],\n    pkgs: []\n  }\n\n  addScriptsAndPkgs(result)\n\n  return result\n}\n\nfunction addScriptsAndPkgs (profileData) {\n  const scripts = new Map()\n  const pkgs = new Map()\n\n  for (let node of profileData.nodes) {\n    const url = node.callFrame.url\n    const scriptId = node.callFrame.scriptId\n\n    if (scripts.has(scriptId)) continue\n\n    const pkg = getPackageInfo(url)\n    if (!pkgs.has(pkg.url)) pkgs.set(pkg.url, pkg)\n\n    scripts.set(scriptId, {\n      id: scriptId,\n      url: url,\n      pkgUrl: pkg.url\n    })\n  }\n\n  profileData.scripts = Array.from(scripts.values())\n  profileData.pkgs = Array.from(pkgs.values())\n}\n\n// node\n//   callFrame: {\n//     scriptId: \"0\"\n//     url: \"\"\n\n// script key of id\n//   id: \"45\"\n//   url: \"internal/process/next_tick.js\"\n//   pkg: \"(system)\"\n\n// pkgs key of path\n//   path: \"(unknown)\"\n//   name: \"(unknown)\"\n// },\n\n// return {path: 'dir-of-package.json', name: 'package-name'}\nfunction getPackageInfo (url) {\n  if (url == null || url === '') return { url: SystemPackage, name: SystemPackage }\n  if (url[0] !== '/') return { url: SystemPackage, name: SystemPackage }\n\n  const match = url.match(/(.*)\\/node_modules\\/(.*)/i)\n  if (match == null) {\n    return {url: UnknownPackage, name: UnknownPackage}\n  }\n\n  const pathStart = match[1]\n  const pathEnd = match[2]\n  const pathEndParts = pathEnd.split('/')\n\n  let packageName = pathEndParts[0] || ''\n  if (packageName[0] === '@') {\n    packageName = pathEndParts.slice(0, 2).join('/')\n  }\n\n  const packageUrl = path.join(pathStart, 'node_modules', packageName)\n\n  return {\n    url: packageUrl,\n    name: packageName\n  }\n}\n",
        "'use strict'\n\n// convert a profile from v8profiler to inspector 1.2 format\n\nmodule.exports = convert\n\nfunction convert (profileData) {\n  const result = {\n    nodes: nodeTreeToArray(profileData.head),\n    startTime: profileData.startTime * 1000 * 1000,\n    endTime: profileData.endTime * 1000 * 1000\n  }\n\n  if (result.nodes == null) return null\n  return result\n}\n\nfunction nodeTreeToArray (node, array) {\n  if (node == null) return\n  if (array == null) array = []\n\n  const newNode = convertNode(node)\n  array.push(newNode)\n\n  // if no children, done!\n  if (node.children == null || node.children.length === 0) return array\n\n  // build array of children ids\n  for (let child of node.children) {\n    newNode.children.push(child.id)\n  }\n\n  // recursively process children\n  for (let child of node.children) {\n    const result = nodeTreeToArray(child, array)\n    if (result == null) return null\n  }\n\n  return array\n}\n\n// convert a node -- see structure below\nfunction convertNode (nodeV8) {\n  const result = {\n    id: nodeV8.id,\n    callFrame: {\n      functionName: nodeV8.functionName,\n      scriptId: `${nodeV8.scriptId}`,\n      url: nodeV8.url,\n      lineNumber: nodeV8.lineNumber,\n      columnNumber: nodeV8.columnNumber\n    },\n    hitCount: nodeV8.hitCount\n  }\n\n  if (nodeV8.bailoutReason != null) result.deoptReason = nodeV8.bailoutReason\n\n  result.children = []\n\n  if (nodeV8.lineTicks) {\n    result.positionTicks = []\n    for (let lineTick of nodeV8.lineTicks) {\n      result.positionTicks.push({\n        line: lineTick.line,\n        ticks: lineTick.hitCount\n      })\n    }\n  }\n\n  return result\n}\n\n// -----------------------------------------------------------------------------\n// v8\n// -----------------------------------------------------------------------------\n\n// \"functionName\": \"wait\",\n// \"url\": \"/Users/pmuellr/Projects/moar-profile-viewer/test/fixtures/a-b.js\",\n// \"lineNumber\": 23,\n// \"callUID\": 4,\n// \"bailoutReason\": \"no reason\",\n// \"id\": 15,\n// \"scriptId\": 77,\n// \"hitCount\": 1077,\n// \"children\": [],\n// \"lineTicks\": [\n//   {\n//     \"line\": 24,\n//     \"hitCount\": 2\n//   },\n//   {\n//     \"line\": 25,\n//     \"hitCount\": 1075\n//   }\n// ]\n\n// -----------------------------------------------------------------------------\n// 1.2\n// -----------------------------------------------------------------------------\n\n// \"id\": 13,\n// \"callFrame\": {\n//   \"functionName\": \"wait\",\n//   \"scriptId\": \"77\",\n//   \"url\": \"/Users/pmuellr/Projects/moar-profile-viewer/test/fixtures/a-b.js\",\n//   \"lineNumber\": 20,\n//   \"columnNumber\": 14\n// },\n// \"hitCount\": 1074,\n// \"deoptReason\": \"TryCatchStatement\"\n// \"positionTicks\": [\n//   {\n//     \"line\": 22,\n//     \"ticks\": 6\n//   },\n//   {\n//     \"line\": 23,\n//     \"ticks\": 1068\n//   }\n// ]\n",
        "'use strict'\n\n// create a profile object from a raw JSON profile object\n// - v8-profiler objects\n// - moar-profiler objects\n\nmodule.exports = create\n\nconst path = require('path')\n\nconst googAnalytics = require('./google-analytics')\n\nconst convertV8ProfilerToInspector12 = require('./convert-v8-to-12')\nconst convertInspector12ToMoarProfiler = require('./convert-12-to-moar')\n\n// create raw profile data into objects\nfunction create (profileData) {\n  googAnalytics.sendEvent({eventCategory: 'profile-load', eventAction: 'attempt'})\n\n  if (!isMoarProfiler(profileData)) {\n    if (isV8Profiler(profileData)) profileData = convertV8ProfilerToInspector12(profileData)\n    if (isInspector12(profileData)) profileData = convertInspector12ToMoarProfiler(profileData)\n  }\n\n  if (profileData == null) return null\n  if (!isMoarProfiler(profileData)) return null\n\n  googAnalytics.sendEvent({eventCategory: 'profile-load', eventAction: 'success'})\n\n  return buildProfile(profileData)\n}\n\n// build the basic objects for the profile\nfunction buildProfile (profileData) {\n  const profile = new Profile()\n\n  // create basic structure\n  profile.meta = createMeta(profileData.meta)\n  profile.totalTime = profileData.endTime - profileData.startTime\n  profile.totalSamples = 0\n  profile.nodes = profileData.nodes.map(node => createNode(node))\n  profile.fns = createFns(profileData)\n  profile.scripts = profileData.scripts.map(script => createScript(script))\n  profile.pkgs = profileData.pkgs.map(pkg => createPkg(pkg))\n\n  linkObjects(profile)\n  setParentsAndChildren(profile)\n  setTimes(profile)\n  resolveDependencies(profile)\n\n  return profile\n}\n\nfunction createMeta (data) {\n  const meta = new Meta()\n\n  if (data == null) return Meta\n\n  for (let key in data) {\n    meta[key] = data[key]\n  }\n\n  return meta\n}\n\nfunction createNode (data) {\n  const node = new Node()\n\n  node.id = data.id\n  node.fn = null\n  node.line = data.callFrame.lineNumber + 1\n  node.lines = []\n  node.parent = null\n  node.children = data.children || []\n  node.selfTime = data.hitCount || 0\n  node.totalTime = null\n  node.isProgram = node.functionName === '(program)'\n  node.isIdle = node.functionName === '(idle)'\n  node.isGC = node.functionName === '(garbage collector)'\n\n  if (data.positionTicks == null) data.positionTicks = []\n  node.lines = data.positionTicks.map(positionTickInfo => {\n    const line = new Line()\n    line.line = positionTickInfo.line\n    line.selfTime = positionTickInfo.ticks\n    return line\n  })\n\n  return node\n}\n\nfunction createFns (profileData) {\n  const fnMap = new Map()\n\n  for (let node of profileData.nodes) {\n    const callFrame = node.callFrame\n    const name = callFrame.functionName || '(anonymous)'\n    const id = `${name}:${callFrame.scriptId}:${callFrame.lineNumber}:${callFrame.columnNumber}`\n\n    let fn = fnMap.get(id)\n    if (fn == null) {\n      fn = new Fn()\n      fn.id = id\n      fn.script = callFrame.scriptId\n      fn.nodes = []\n      fn.name = name\n      fn.line = callFrame.lineNumber + 1\n      fn.isAnonymous = name === '(anonymous)'\n      fnMap.set(id, fn)\n    }\n\n    fn.nodes.push(node.id)\n  }\n\n  // convert to an array, reassign id to something more reasonable\n  const result = Array.from(fnMap.values())\n  for (let i = 0; i < result.length; i++) {\n    result[i].id = `${i}`\n  }\n\n  return result\n}\n\nfunction createScript (data) {\n  const script = new Script()\n\n  script.id = data.id\n  script.url = data.url\n  script.pkg = data.pkgUrl\n  script.urlInPkg = getScriptUrl(data.pkgUrl, data.url)\n  script.fns = []\n  script.source = data.source\n\n  return script\n}\n\nfunction createPkg (data) {\n  const pkg = new Pkg()\n\n  pkg.url = data.url\n  pkg.name = data.name\n  pkg.version = data.version\n  pkg.description = data.description\n  pkg.homepage = data.homepage\n  pkg.scripts = []\n  pkg.dependencies = []\n  pkg.isSystem = pkg.name === '(system)'\n  pkg.isUnknown = pkg.name === '(unknown)'\n  pkg.isSystemOrUnknown = pkg.isSystem || pkg.isUknown\n\n  for (let type in data.dependencies) {\n    for (let pkgName in data.dependencies[type]) {\n      const versionRange = data.dependencies[type][pkgName]\n      const dep = new Dependency()\n      dep.name = pkgName\n      dep.version = versionRange\n      dep.type = type\n      dep.pkg = null\n      pkg.dependencies.push(dep)\n    }\n  }\n\n  return pkg\n}\n\n// convert implicit links across objects to object references\nfunction linkObjects (profile) {\n  // build maps of from keys to objects -> object\n  const nodeMap = new Map()\n  const fnMap = new Map()\n  const scriptMap = new Map()\n  const pkgMap = new Map()\n\n  for (let node of profile.nodes) { nodeMap.set(node.id, node) }\n  for (let fn of profile.fns) { fnMap.set(fn.id, fn) }\n  for (let script of profile.scripts) { scriptMap.set(script.id, script) }\n  for (let pkg of profile.pkgs) { pkgMap.set(pkg.url, pkg) }\n\n  // convert node children ids in a node to nodes\n  for (let node of profile.nodes) {\n    node.children = node.children.map(nodeId => nodeMap.get(nodeId))\n  }\n\n  // convert node ids in fn to nodes\n  // set the fn of a node\n  // add the fn to it's script\n  for (let fn of profile.fns) {\n    fn.nodes = fn.nodes.map(nodeId => nodeMap.get(nodeId))\n    for (let node of fn.nodes) { node.fn = fn }\n\n    fn.script = scriptMap.get(fn.script)\n    fn.script.fns.push(fn)\n  }\n\n  // set the pkg of a script\n  // add the script to it's pkg's scripts\n  // collect the nodes of a script\n  for (let script of profile.scripts) {\n    script.pkg = pkgMap.get(script.pkg)\n    script.pkg.scripts.push(script)\n    script.nodes = reduce(script.fns, [], (acc, fn) => acc.concat(fn.nodes))\n  }\n\n  // set the pkg of a fn\n  for (let fn of profile.fns) {\n    fn.pkg = fn.script.pkg\n  }\n\n  // set the script and pkg of a node\n  for (let node of profile.nodes) {\n    node.script = node.fn.script\n    node.pkg = node.script.pkg\n  }\n\n  // set the fns of a pkg\n  // collect the nodes of a pkg\n  // set isSystem for all objects\n  for (let pkg of profile.pkgs) {\n    pkg.fns = reduce(pkg.scripts, [], (acc, script) => acc.concat(script.fns))\n    pkg.nodes = reduce(pkg.fns, [], (acc, fn) => acc.concat(fn.nodes))\n\n    for (let script of pkg.scripts) script.isSystem = pkg.isSystem\n    for (let fn of pkg.fns) fn.isSystem = pkg.isSystem\n    for (let node of pkg.nodes) node.isSystem = pkg.isSystem\n  }\n}\n\n// set the parents and children of objects\nfunction setParentsAndChildren (profile) {\n  // set the parents of nodes (children already set)\n  setNodeParent(profile.nodes[0])\n\n  // set the parents and children of fns\n  for (let fn of profile.fns) {\n    fn.parents = Array.from(getParents('fn', fn, fn.nodes).keys())\n    fn.children = Array.from(getChildren('fn', fn, fn.nodes).keys())\n  }\n\n  // set the parents and children of scripts\n  for (let script of profile.scripts) {\n    script.parents = Array.from(getParents('script', script, script.nodes).keys())\n    script.children = Array.from(getChildren('script', script, script.nodes).keys())\n  }\n\n  // set the parents and children of pkgs\n  for (let pkg of profile.pkgs) {\n    pkg.parents = Array.from(getParents('pkg', pkg, pkg.nodes).keys())\n    pkg.children = Array.from(getChildren('pkg', pkg, pkg.nodes).keys())\n  }\n}\n\nfunction getParents (key, object, nodes, resultSet) {\n  if (nodes == null) nodes = object.nodes\n  if (resultSet == null) resultSet = new Set()\n\n  for (let node of nodes) {\n    if (node.parent == null) continue\n    const parent = node.parent\n\n    if (parent[key] === object) {\n      getParents(key, object, [ parent ], resultSet)\n    } else {\n      resultSet.add(parent[key])\n    }\n  }\n\n  return resultSet\n}\n\nfunction getChildren (key, object, nodes, resultSet) {\n  if (nodes == null) nodes = object.nodes\n  if (resultSet == null) resultSet = new Set()\n\n  for (let node of nodes) {\n    for (let child of node.children) {\n      if (child[key] === object) {\n        getChildren(key, object, [ child ], resultSet)\n      } else {\n        resultSet.add(child[key])\n      }\n    }\n  }\n\n  return resultSet\n}\n\n// return the url of a script relative to it's package\nfunction getScriptUrl (pkgUrl, scriptUrl) {\n  if (pkgUrl == null) return scriptUrl\n  if (pkgUrl[0] === '(') return scriptUrl\n  return path.relative(pkgUrl, scriptUrl)\n}\n\n// set the self and total times\nfunction setTimes (profile) {\n  const usPerTick = microsPerTick(profile)\n\n  // set node self times\n  for (let node of profile.nodes) {\n    node.selfTime = node.selfTime * usPerTick\n\n    for (let line of node.lines) {\n      line.selfTime = line.selfTime * usPerTick\n    }\n  }\n\n  // set node total times\n  for (let node of profile.nodes) { setTotalTime(node, [node]) }\n\n  // fn times\n  for (let fn of profile.fns) {\n    const nodes = profile.nodes.filter(node => node.fn === fn)\n    setSelfTime(fn, nodes)\n    setTotalTime(fn, nodes)\n  }\n\n  // script times\n  for (let script of profile.scripts) {\n    const nodes = profile.nodes.filter(node => node.script === script)\n    setSelfTime(script, nodes)\n    setTotalTime(script, nodes)\n  }\n\n  // pkg times\n  for (let pkg of profile.pkgs) {\n    const nodes = profile.nodes.filter(node => node.pkg === pkg)\n    setSelfTime(pkg, nodes)\n    setTotalTime(pkg, nodes)\n  }\n}\n\nfunction setSelfTime (object, nodes) {\n  if (object.selfTime != null) return\n  object.selfTime = reduce(nodes, 0, (acc, node) => acc + node.selfTime)\n}\n\nfunction setTotalTime (object, nodes) {\n  if (object.totalTime != null) return\n\n  const nodeSet = new Set()\n  for (let node of nodes) {\n    collect(node, nodeSet)\n  }\n\n  // then sum their self times\n  object.totalTime = reduce(Array.from(nodeSet.values()), 0, (acc, node) => acc + node.selfTime)\n\n  function collect (node, nodeSet) {\n    nodeSet.add(node)\n    for (let child of node.children) {\n      collect(child, nodeSet)\n    }\n  }\n}\n\nfunction reduce (arr, init, fn) {\n  return arr.reduce(fn, init)\n}\n\n// recursively set the parent of every node\nfunction setNodeParent (node) {\n  for (let child of node.children) {\n    child.parent = node\n    setNodeParent(child)\n  }\n}\n\n// resolve package dependencies to actual packages\nfunction resolveDependencies (profile) {\n  const pkgMap = new Map()\n  for (let pkg of profile.pkgs) {\n    pkgMap.set(pkg.url, pkg)\n  }\n\n  for (let pkg of profile.pkgs) {\n    if (pkg.url[0] === '(') continue\n\n    for (let dep of pkg.dependencies) {\n      let checkUrl = path.join(pkg.url, 'node_modules')\n\n      while (checkUrl !== '/') {\n        const resolved = pkgMap.get(path.join(checkUrl, dep.name))\n        if (resolved != null) {\n          dep.pkg = resolved\n          break\n        }\n        checkUrl = path.dirname(checkUrl)\n      }\n    }\n  }\n}\n\n// compute microseconds per tick/hit\nfunction microsPerTick (profile) {\n  const micros = profile.totalTime\n\n  let ticks = 0\n  for (let node of profile.nodes) {\n    ticks += node.selfTime || 0\n  }\n\n  profile.totalSamples = ticks\n  return Math.round(micros / ticks)\n}\n\n// return indication if this is a v8-profiler profile\nfunction isV8Profiler (profile) {\n  if (profile == null) return false\n\n  const keys = 'head startTime endTime'.split(' ')\n\n  for (let key of keys) {\n    if (profile[key] == null) return false\n  }\n\n  return true\n}\n\n// return indication if this is an inspector 1.2 profile\nfunction isInspector12 (profile) {\n  if (profile == null) return false\n\n  const keys = 'nodes startTime endTime'.split(' ')\n\n  for (let key of keys) {\n    if (profile[key] == null) return false\n  }\n\n  return true\n}\n\n// return indication if this is a moar profile profile\nfunction isMoarProfiler (profile) {\n  if (profile == null) return false\n\n  const keys = 'meta nodes startTime endTime scripts pkgs'.split(' ')\n\n  for (let key of keys) {\n    if (profile[key] == null) return false\n  }\n\n  return true\n}\n\nclass Profile {}\nclass Meta {}\nclass Node {}\nclass Fn {}\nclass Script {}\nclass Pkg {}\nclass Line {}\nclass Dependency {}\n",
        "'use strict'\n\nexports.sendEvent = sendEvent\n\nfunction sendEvent (args) {\n  if (typeof window === 'undefined') return\n  if (typeof window.ga !== 'function') return\n\n  window.ga('send', 'event', args)\n}\n",
        "'use strict'\n\nconst create = require('./create')\n\nexports.create = create\n",
        "'use strict'\n\nexports.initialize = initialize\n\nconst EventEmitter = require('events')\n\nconst profileReader = require('./profile-reader')\n\nconst jQuery = window.jQuery\n\nfunction initialize () {\n  const dropHandler = new DropHandler()\n\n  const jel = jQuery('body')\n  jel.on('dragend', (event) => {})\n  jel.on('dragover', (event) => { event.preventDefault() })\n  jel.on('drop', (event) => dropHandler.onDrop(event))\n\n  return dropHandler\n}\n\nclass DropHandler extends EventEmitter {\n  onDrop (event) {\n    event = event.originalEvent || window.event\n\n    event.stopPropagation()\n    event.preventDefault()\n\n    const dt = event.dataTransfer\n    const file = dt.files[0]\n\n    profileReader.load(file)\n  }\n}\n",
        "'use strict'\n\nexports.initialize = initialize\n\nconst profileReader = require('./profile-reader')\n\nconst jQuery = window.jQuery\n\nfunction initialize () {\n  const jel = jQuery('#file-input')\n  jel.change(fileSelected)\n}\n\nfunction fileSelected () {\n  const el = jQuery('#file-input')[0]\n  const files = el.files\n  if (files.length === 0) return\n\n  profileReader.load(el.files[0])\n}\n",
        "'use strict'\n\nexports.getInfoHtml = getInfoHtml\n\nconst utils = require('./utils')\n\nfunction getInfoHtml (profile, fn) {\n  const html = []\n\n  html.push(`<p>in script: ${utils.escapeHtml(fn.script.url)}`)\n\n  let pkg = fn.pkg.name\n  let pkgLink\n  if (fn.pkg.version == null) {\n    pkg = utils.escapeHtml(pkg)\n  } else {\n    pkgLink = `https://npmjs.org/package/${fn.pkg.name}`\n    pkg += ` @ ${fn.pkg.version}`\n    pkg = `${utils.escapeHtml(pkg)}`\n  }\n\n  html.push(`<p>in package: ${pkg}`)\n  if (pkgLink != null) {\n    html.push(`<a href=\"https://npmjs.org/package/${fn.pkg.name}\" target=\"npm-${fn.pkg.name}\">`)\n    html.push('<img src=\"images/open-iconic/external-link-8x.png\" alt=\"npm\" width=\"12px\">')\n    html.push('</a>')\n  }\n\n  html.push('<table class=\"records-table show-user full-width\">')\n  html.push(createTableRows('callers', fn.parents, profile.totalTime))\n  html.push('<tr><td colspan=\"3\">&nbsp;</td></tr>')\n  html.push(createTableRows('calls', fn.children, profile.totalTime))\n  html.push('</table>')\n\n  return html.join('\\n')\n}\n\nfunction createTableRows (name, objects, profileTime) {\n  const html = []\n\n  html.push('<tr>')\n  html.push(`<td><b>${name}</b></td>`)\n  html.push(`<td style=\"text-align:center;\" colspan=\"2\"><b>total time</b></td>`)\n  html.push('</tr>')\n\n  for (let object of objects) {\n    const onClick = `MoarProfileViewer.fnSelected('${object.id}', true)`\n    const userSys = object.isSystem ? 'isSystem' : 'isUser'\n\n    const totalTime = Math.round(object.totalTime / 1000)\n    const totalPercent = Math.round(100 * object.totalTime / profileTime)\n\n    html.push(`<tr id=\"fn-record-${object.id}\"class=\"clickable ${userSys}\" onclick=\"${onClick}\">`)\n    html.push(`<td>${object.name}</td>`)\n    html.push(`<td style=\"text-align:right;\">${totalTime}&nbsp;ms</td>`)\n    html.push(`<td style=\"text-align:right;\">${totalPercent}%</td>`)\n    html.push('</tr>')\n  }\n\n  return html.join('\\n')\n}\n",
        "'use strict'\n\nconst jQuery = window.jQuery\n\nconst thisPackage = require('../../package.json')\n\nconst ui = require('./ui')\nconst modalDisplayer = require('./modal-displayer')\n\nconst paneZoomer = require('./pane-zoomer')\nconst dropHandler = require('./drop-handler')\nconst fileReader = require('./file-reader')\n\nwindow.MoarProfileViewer = {\n  profile: null,\n  displayPrivacy: modalDisplayer.displayPrivacy,\n  fnSelected: ui.fnSelected\n}\n\nconsole.log('MoarProfileViewer:', window.MoarProfileViewer)\n\njQuery(whenReady)\n\nfunction whenReady () {\n  paneZoomer.initialize()\n  dropHandler.initialize()\n  fileReader.initialize()\n\n  jQuery('#button-sort-total').click(e => ui.sortByTotalTime(e || window.event))\n  jQuery('#button-sort-self').click(e => ui.sortBySelfTime(e || window.event))\n  jQuery('#button-show-all').click(e => ui.showAll(e || window.event))\n  jQuery('#button-show-user').click(e => ui.showUser(e || window.event))\n  jQuery('#button-scope-fn').click(e => ui.scopeFn(e || window.event))\n  jQuery('#button-scope-script').click(e => ui.scopeScript(e || window.event))\n  jQuery('#button-scope-package').click(e => ui.scopePackage(e || window.event))\n\n  jQuery('#version').text(`v${thisPackage.version}`)\n}\n",
        "'use strict'\n\nexports.displayPrivacy = displayPrivacy\n\nfunction displayPrivacy () {\n  window.alert(PrivacyText)\n}\n\nconst PrivacyText = `\nThis application collects information with Google Analytics.\n\nIt collects pageviews for the primary page.  It also sends an event when attempts are made to load a profile, and when a profile is loaded successfully.  No data associated with the profile - name or data - is sent with those events, just that the attempt was made, and that the profile was loaded successfully.\n\nThat's it.  Enjoy.\n`\n",
        "'use strict'\n\nexports.initialize = initialize\n\nconst jQuery = window.jQuery\n\nfunction initialize () {\n  jQuery('.zoom-button').click(onClick)\n}\n\nfunction onClick (event) {\n  event.preventDefault()\n  event.stopPropagation()\n\n  const jelPane = jQuery(event.target)\n  const jelMain = jQuery('#main')\n\n  const paneName = getPaneName(jelPane)\n  if (paneName == null) return console.error('could not get pane name')\n\n  zoom(paneName, jelMain)\n}\n\nfunction zoom (paneName, jelMain) {\n  jelMain.toggleClass('zoom-out')\n  jelMain.toggleClass(`zoom-${paneName}`)\n}\n\nfunction getPaneName (jelPane) {\n  const id = jelPane.parent()[0].id || '' // \"toolbar-t\"\n  const match = id.match(/^toolbar-(.*)$/)\n  if (match == null) return null\n\n  return match[1]\n}\n",
        "'use strict'\n\nexports.load = load\n\nconst Profile = require('../profile')\nconst ui = require('./ui')\n\n// load a profile (from drop-handler or file-reader)\nfunction load (file) {\n  const fileReader = new window.FileReader()\n\n  fileReader.onabort = () => reportError(file, 'interrupted')\n  fileReader.onerror = () => reportError(file, 'unknown error')\n  fileReader.onload = (event) => {\n    const data = event.target && event.target.result\n    if (data == null) return reportError(file, 'no data in file')\n\n    let profileData\n    try {\n      profileData = JSON.parse(data)\n    } catch (err) {\n      return reportError(file, 'file does not contain JSON')\n    }\n\n    const profile = Profile.create(profileData)\n    if (profile == null) {\n      return reportError(file, 'file does not contain CPU profile data')\n    }\n\n    ui.load(profile, file.name)\n  }\n\n  fileReader.readAsText(file)\n}\n\nfunction reportError (file, message) {\n  window.alert(`error reading ${file.name}: ${message}`)\n}\n",
        "'use strict'\n\nexports.format = format\n\nconst utils = require('./utils')\n\n// given JS source and a script object, return an HTML formatted version\nfunction format (source, script, profileTime) {\n  const hasSource = source !== ''\n  const shownLines = new Set()\n\n  // get the line hits data\n  const lineHits = getLineHits(script)\n\n  // split the lines\n  let lines = source\n    .split('\\n')\n    .map(line => `<span class=\"source-line\">${utils.escapeHtml(line)}</span>`)\n\n  // wrap function lines\n  for (let fn of script.fns) {\n    const lineNo = (fn.line || 1) - 1\n    shownLines.add(lineNo)\n    const onClick = `MoarProfileViewer.fnSelected('${fn.id}')`\n    lines[lineNo] = `<span class=\"source-line-function clickable\" id=\"source-fn-${fn.id}\" onclick=\"${onClick}\">${lines[lineNo] || ''}</span>`\n  }\n\n  // wrap linehit lines\n  for (let lineHit of lineHits) {\n    const lineNo = lineHit.line\n    shownLines.add(lineNo)\n    lines[lineNo] = `<span class=\"source-line-linehit\">${lines[lineNo] || ''}</span>`\n  }\n\n  // add line numbers\n  for (let i = 0; i < lines.length; i++) {\n    lines[i] = `<div><span class=\"source-lineno\">${utils.rightPad(i, 6)}</span>${lines[i] || ''}</div>`\n  }\n\n  // add annotation for function lines\n  for (let fn of script.fns) {\n    const lineNo = (fn.line || 1) - 1\n    const selfTime = Math.round(fn.selfTime / 1000)\n    const selfPercent = Math.round(100 * fn.selfTime / profileTime)\n    const totalTime = Math.round(fn.totalTime / 1000)\n    const totalPercent = Math.round(100 * fn.totalTime / profileTime)\n\n    shownLines.add(lineNo)\n    let newLine = []\n    newLine.push(`<span class=\"source-lineno\">${utils.rightPad('', 6)}</span>`)\n    newLine.push('<span class=\"source-function\">')\n    newLine.push(`${utils.escapeHtml(fn.name)}() - `)\n    newLine.push(`total time: ${totalTime} ms, ${totalPercent}%; `)\n    newLine.push(`self time: ${selfTime} ms, ${selfPercent}%`)\n    newLine.push('</span>')\n\n    const onClick = `MoarProfileViewer.fnSelected('${fn.id}')`\n    lines[lineNo] = `${lines[lineNo]}<div class=\"clickable source-annotation\" onclick=\"${onClick}\">${newLine.join('')}</div>`\n  }\n\n  // add annotation for line hits\n  for (let lineHit of lineHits) {\n    const lineNo = lineHit.line\n    const selfTime = Math.round(lineHit.selfTime / 1000)\n    const selfPercent = Math.round(100 * lineHit.selfTime / profileTime)\n\n    shownLines.add(lineNo)\n    let newLine = []\n    newLine.push(`<span class=\"source-lineno\">${utils.rightPad('', 6)}</span>`)\n    newLine.push('<span class=\"source-linehit\">')\n    newLine.push(`self time: ${selfTime} ms, ${selfPercent}%`)\n    newLine.push('</span>')\n    lines[lineNo] = `${lines[lineNo]}<div class=\"source-annotation\">${newLine.join('')}</div>`\n  }\n\n  // if no source is available, only show interesting lines\n  if (!hasSource) {\n    const newLines = []\n    const interestingLines = Array.from(shownLines.keys()).sort((a, b) => a - b)\n    for (let lineNo of interestingLines) {\n      newLines.push(lines[lineNo])\n      newLines.push('<p>&nbsp;</p>')\n    }\n\n    lines = newLines\n  }\n\n  // wrap in a div\n  return `<div class=\"source-lines\">${lines.join('')}</div>`\n}\n\n// returns [] of {line, selfTime}[] for a script\nfunction getLineHits (script) {\n  const linesMap = new Map()\n\n  // get the line hit results\n  for (let node of script.nodes) {\n    for (let line of node.lines) {\n      let selfTime = linesMap.get(line.line)\n      if (selfTime == null) selfTime = 0\n\n      selfTime += line.selfTime\n      linesMap.set(line.line, selfTime)\n    }\n  }\n\n  const result = []\n  for (let line of linesMap.keys()) {\n    result.push({line: line, selfTime: linesMap.get(line)})\n  }\n  return result\n}\n",
        "'use strict'\n\nexports.load = load\nexports.sortByTotalTime = sortByTotalTime\nexports.sortBySelfTime = sortBySelfTime\nexports.showAll = showAll\nexports.showUser = showUser\nexports.scopeFn = scopeFn\nexports.scopeScript = scopeScript\nexports.scopePackage = scopePackage\nexports.fnSelected = fnSelected\n\nconst jQuery = window.jQuery\n\nconst fnInformer = require('./fn-informer')\nconst sourceFormatter = require('./source-formatter')\n\nlet CurrentRecords = null\nlet CurrentSort = 'total'\nlet CurrentSelectedRecordTR = null\n\nfunction load (profile, profileName) {\n  window.MoarProfileViewer.profile = profile\n  console.log('loaded profile', profile)\n\n  CurrentRecords = getFunctionRecords(profile)\n\n  if (CurrentSort === 'total') {\n    sortByTotalTime()\n  } else {\n    sortBySelfTime()\n  }\n\n  updateMeta(profile.meta)\n\n  jQuery('#content-l').html('')\n  jQuery('#content-r').html('')\n  jQuery('#source-url').text('source')\n  jQuery('#fn-info').text('info')\n\n  jQuery('#profile-name').text(profileName)\n  window.document.title = `${profileName} - moar profile viewer`\n}\n\nfunction sortByTotalTime (event) {\n  if (CurrentRecords == null) return\n\n  CurrentRecords.sort((a, b) => {\n    const diff = b.totalTime - a.totalTime\n    if (diff !== 0) return diff\n\n    return a.sortId - b.sortId\n  })\n\n  displayRecords()\n}\n\nfunction sortBySelfTime (event) {\n  if (CurrentRecords == null) return\n\n  CurrentRecords.sort((a, b) => {\n    const diff = b.selfTime - a.selfTime\n    if (diff !== 0) return diff\n\n    return a.sortId - b.sortId\n  })\n\n  displayRecords()\n}\n\nlet ShowUser = true\n\nfunction showAll (event) {\n  ShowUser = false\n  jQuery('.records-table').removeClass('show-user')\n}\n\nfunction showUser (event) {\n  ShowUser = true\n  jQuery('.records-table').addClass('show-user')\n}\n\nfunction showCurrent (event) {\n  ShowUser ? showUser() : showAll()\n}\n\nfunction scopeFn (event) {\n}\n\nfunction scopeScript (event) {\n}\n\nfunction scopePackage (event) {\n}\n\nfunction fnSelected (fnID, scroll) {\n  if (scroll == null) scroll = true\n\n  const profile = window.MoarProfileViewer.profile\n\n  if (scroll) jQuery(`#fn-record-${fnID}`)[0].scrollIntoView()\n\n  if (CurrentSelectedRecordTR != null) {\n    jQuery(CurrentSelectedRecordTR).removeClass('selected')\n  }\n\n  if (window.event.currentTarget != null) {\n    CurrentSelectedRecordTR = window.event.currentTarget\n    jQuery(CurrentSelectedRecordTR).addClass('selected')\n  }\n\n  const jelContentL = jQuery('#content-l')\n  const jelContentR = jQuery('#content-r')\n  const jelSourceUrl = jQuery('#source-url')\n  const jelFnInfo = jQuery('#fn-info')\n\n  const fn = profile.fns.filter(fn => fn.id === fnID)[0]\n  if (fn == null) {\n    jelContentL.text(`internal error: can't locate function with id ${fnID}`)\n    jelContentR.text(`internal error: can't locate function with id ${fnID}`)\n    jelSourceUrl.text('source')\n    return\n  }\n\n  const infoHtml = fnInformer.getInfoHtml(profile, fn)\n  jelContentL.html(infoHtml)\n\n  let source\n  let sourceName\n  if (fn.script.url == null || fn.script.url === '' || fn.script.source == null || fn.script.url === '') {\n    source = ''\n    sourceName = 'source not available'\n  } else {\n    source = fn.script.source\n    sourceName = fn.script.url\n  }\n\n  const totalTime = profile.totalTime\n  jelContentR.html(sourceFormatter.format(source, fn.script, totalTime))\n\n  setTimeout(() => {\n    showCurrent()\n    const fnEl = jQuery(`#source-fn-${fn.id}`)[0]\n    if (fnEl != null) fnEl.scrollIntoView()\n  }, 10)\n\n  jelFnInfo.text(`${fn.name}()`)\n  jelSourceUrl.text(sourceName)\n}\n\nfunction updateMeta (meta) {\n  const jelMeta = jQuery('#profile-meta')\n\n  if (meta == null || meta.date == null) return jelMeta.html('')\n\n  const html = []\n\n  html.push('<br>&nbsp;<br>')\n  html.push('<span>')\n  html.push(`<span class=\"bordered\">${meta.date.replace('T', ' ')}</span>`)\n  html.push(`<span class=\"bordered\">${meta.mainModule}</span>`)\n  html.push(`<span class=\"bordered\">node ${meta.nodeVersion}</span>`)\n  html.push(`<span class=\"bordered\">${meta.platform}/${meta.arch}</span>`)\n  html.push('</span>')\n\n  jelMeta.html(html.join('\\n'))\n}\n\nfunction displayRecords () {\n  const jelContentT = jQuery('#content-t')\n  const html = []\n\n  html.push('<table class=\"records-table show-user full-width\">')\n\n  html.push('<tr>')\n  html.push(`<td><b>function</b></td>`)\n  html.push(`<td style=\"text-align:center;\" colspan=\"2\"><b>total time</b></td>`)\n  html.push(`<td style=\"text-align:center;\" colspan=\"2\"><b>self time</b></td>`)\n  html.push(`<td><b>script</b></td>`)\n  html.push(`<td><b>package</b></td>`)\n  html.push('</tr>')\n\n  for (let record of CurrentRecords) {\n    const onClick = `MoarProfileViewer.fnSelected('${record.id}', false)`\n    const userSys = record.isSystem ? 'isSystem' : 'isUser'\n\n    html.push(`<tr id=\"fn-record-${record.id}\"class=\"clickable ${userSys}\" onclick=\"${onClick}\">`)\n    html.push(`<td>${record.fn}</td>`)\n    html.push(`<td style=\"text-align:right;\">${record.totalTime}&nbsp;ms</td>`)\n    html.push(`<td style=\"text-align:right;\">${record.totalPercent}%</td>`)\n    html.push(`<td style=\"text-align:right;\">${record.selfTime}&nbsp;ms</td>`)\n    html.push(`<td style=\"text-align:right;\">${record.selfPercent}%</td>`)\n    html.push(`<td>${record.script}</td>`)\n    html.push(`<td>${record.pkg}</td>`)\n    html.push('</tr>')\n  }\n\n  html.push('</table>')\n\n  jelContentT.html(html.join('\\n'))\n}\n\nfunction getFunctionRecords (profile) {\n  let id = 0\n  return profile.fns.map(fn => {\n    let pkg = fn.script.pkg\n    let pkgName = pkg.name\n    if (pkg.version) pkgName += ' @ ' + pkg.version\n    if (!pkg.isSystemOrUnknown) {\n      pkgName += ` &nbsp;&nbsp;<a href=\"https://npmjs.org/package/${pkg.name}\" target=\"npm-${pkg.name}\"><img src=\"images/open-iconic/external-link-8x.png\" alt=\"npm\" width=\"12px\"></a>`\n    }\n\n    let name = fn.name\n    if (name.startsWith('RegExp:') && name.length > 20) {\n      name = `${name.substr(0, 20)} ...`\n    }\n\n    if (fn.name.startsWith('(')) name = `<i>${name}</i>`\n\n    const selfTime = getSelfTime(fn)\n    const totalTime = getTotalTime(fn)\n    const selfPercent = selfTime / profile.totalTime\n    const totalPercent = totalTime / profile.totalTime\n\n    return {\n      id: fn.id,\n      sortId: id++,\n      fn: name,\n      selfTime: Math.round(selfTime / 1000),\n      selfPercent: Math.round(selfPercent * 100),\n      totalTime: Math.round(totalTime / 1000),\n      totalPercent: Math.round(totalPercent * 100),\n      script: fn.script.urlInPkg,\n      pkg: pkgName,\n      isSystem: fn.pkg.isSystem\n    }\n  })\n}\n\nfunction getSelfTime (fn) {\n  return reduce(fn.nodes, 0, (acc, node) => acc + node.selfTime)\n}\n\nfunction getTotalTime (fn) {\n  // collect all the nodes\n  const nodes = new Set()\n  for (let node of fn.nodes) {\n    collect(node, nodes)\n  }\n\n  // then sum their self times\n  return reduce(Array.from(nodes.values()), 0, (acc, node) => acc + node.selfTime)\n\n  function collect (node, nodes) {\n    nodes.add(node)\n    for (let child of node.children) {\n      collect(child, nodes)\n    }\n  }\n}\n\nfunction reduce (arr, init, fn) {\n  return arr.reduce(fn, init)\n}\n",
        "'use strict'\n\nexports.escapeHtml = escapeHtml\nexports.rightPad = rightPad\n\nfunction escapeHtml (string) {\n  if (string == null) return ''\n  return string\n    .replace('&', '&amp;')\n    .replace('<', '&lt;')\n    .replace('>', '&gt;')\n}\n\nfunction rightPad (string, len, fill) {\n  if (fill == null) fill = ' '\n  string = `${string}`\n  while (string.length < len) string = `${fill}${string}`\n  return string\n}\n",
        "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n",
        "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n",
        "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
        "module.exports={\n  \"name\": \"moar-profile-viewer\",\n  \"version\": \"0.0.1\",\n  \"description\": \"converts cpuprofile files to call graphs\",\n  \"license\": \"MIT\",\n  \"author\": \"Patrick Mueller <pmuellr@apache.org> (https://github.com/pmuellr)\",\n  \"homepage\": \"https://github.com/moar-things/moar-profile-viewer\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/moar-things/moar-profile-viewer.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/moar-things/moar-profile-viewer/issues\"\n  },\n  \"scripts\": {\n    \"build\": \"node tools/build\",\n    \"sample\": \"cd test/fixtures && ../../moar-profile-viewer.js express-jade.cpuprofile\",\n    \"standard\": \"echo 'running standard' && standard -v\",\n    \"testU\": \"npm -s run utest\",\n    \"test\": \"npm -s run utest && npm -s run standard\",\n    \"utest\": \"node test/index.js | FORCE_COLOR=1 tap-spec\",\n    \"watch\": \"nodemon --exec 'node tools/watch-task'\"\n  },\n  \"standard\": {\n    \"ignore\": [\n      \"/tmp/\",\n      \"/docs/\"\n    ]\n  },\n  \"dependencies\": {\n    \"jquery\": \"~3.2.1\"\n  },\n  \"devDependencies\": {\n    \"browserify\": \"~14.4.0\",\n    \"cat-source-map\": \"~0.1.2\",\n    \"chalk\": \"~2.1.0\",\n    \"less\": \"~2.7.2\",\n    \"nodemon\": \"~1.11.1\",\n    \"shelljs\": \"~0.7.8\",\n    \"st\": \"~1.2.0\",\n    \"standard\": \"~10.0.3\",\n    \"tap-spec\": \"~4.1.1\",\n    \"tape\": \"~4.8.0\",\n    \"yield-callback\": \"~1.0.0\"\n  }\n}\n"
    ]
}